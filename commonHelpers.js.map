{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nlet userSelectedDate;\n\nconst docTimer = {\n    btnGoBackEl: document.querySelector('.btn-go-back'),\n    btnStartTimerEl: document.querySelector('button[data-start]'),\n    inputDateEl: document.querySelector('#datetime-picker'),\n    spanDaysEl: document.querySelector('[data-days]'),\n    spanHoursEl: document.querySelector('[data-hours]'),\n    spanMinutesEl: document.querySelector('[data-minutes]'),\n    spanSecondsEl: document.querySelector('[data-seconds]'),\n}\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        if (selectedDates[0].getTime() < Date.now()) {\n            docTimer.btnStartTimerEl.setAttribute('disabled', '');\n            iziToast.error({\n                message: 'Please choose a date in the future',\n                position: 'topCenter',\n                backgroundColor: '#f2aeb2',\n            });\n        } else {\n            docTimer.btnStartTimerEl.removeAttribute('disabled');\n            userSelectedDate = selectedDates[0];\n        }\n    },\n};\n\nflatpickr('#datetime-picker', options);\n\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    // Remaining days\n    const days = Math.floor(ms / day);\n    // Remaining hours\n    const hours = Math.floor((ms % day) / hour);\n    // Remaining minutes\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    // Remaining seconds\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n}\n\n\ndocTimer.btnGoBackEl.addEventListener('click', () => window.location.href = './index.html');\n\n\ndocTimer.btnStartTimerEl.addEventListener('click', () => {\n\n    docTimer.btnStartTimerEl.setAttribute('disabled', '');\n    docTimer.inputDateEl.setAttribute('disabled', '');\n\n    if (userSelectedDate - Date.now() <= 300) {\n        docTimer.inputDateEl.removeAttribute('disabled');\n        iziToast.error({\n            message: 'Please choose a date in the future',\n            position: 'topCenter',\n            backgroundColor: '#f2aeb2',\n        });\n    }\n\n    function addLeadingZero(time) {\n        return time.toString().length === 1 ? `0${time}` : time;\n    }\n\n    const timerId = setInterval(() => {\n        if (userSelectedDate - Date.now() < 300) {\n            clearInterval(timerId);\n            docTimer.inputDateEl.removeAttribute('disabled');\n        } else {\n            const differenceTime = convertMs(userSelectedDate - Date.now());\n\n            docTimer.spanDaysEl.textContent = addLeadingZero(differenceTime.days);\n            docTimer.spanHoursEl.textContent = addLeadingZero(differenceTime.hours);\n            docTimer.spanMinutesEl.textContent = addLeadingZero(differenceTime.minutes);\n            docTimer.spanSecondsEl.textContent = addLeadingZero(differenceTime.seconds);\n        }\n    }, 1000);\n})"],"names":["userSelectedDate","docTimer","options","selectedDates","iziToast","flatpickr","convertMs","ms","days","hours","minutes","seconds","addLeadingZero","time","timerId","differenceTime"],"mappings":"2GAOA,IAAIA,EAEJ,MAAMC,EAAW,CACb,YAAa,SAAS,cAAc,cAAc,EAClD,gBAAiB,SAAS,cAAc,oBAAoB,EAC5D,YAAa,SAAS,cAAc,kBAAkB,EACtD,WAAY,SAAS,cAAc,aAAa,EAChD,YAAa,SAAS,cAAc,cAAc,EAClD,cAAe,SAAS,cAAc,gBAAgB,EACtD,cAAe,SAAS,cAAc,gBAAgB,CAC1D,EAEMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACfA,EAAc,CAAC,EAAE,QAAO,EAAK,KAAK,OAClCF,EAAS,gBAAgB,aAAa,WAAY,EAAE,EACpDG,EAAS,MAAM,CACX,QAAS,qCACT,SAAU,YACV,gBAAiB,SACjC,CAAa,IAEDH,EAAS,gBAAgB,gBAAgB,UAAU,EACnDD,EAAmBG,EAAc,CAAC,EAEzC,CACL,EAEAE,EAAU,mBAAoBH,CAAO,EAGrC,SAASI,EAAUC,EAAI,CAQnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CAGAV,EAAS,YAAY,iBAAiB,QAAS,IAAM,OAAO,SAAS,KAAO,cAAc,EAG1FA,EAAS,gBAAgB,iBAAiB,QAAS,IAAM,CAErDA,EAAS,gBAAgB,aAAa,WAAY,EAAE,EACpDA,EAAS,YAAY,aAAa,WAAY,EAAE,EAE5CD,EAAmB,KAAK,IAAG,GAAM,MACjCC,EAAS,YAAY,gBAAgB,UAAU,EAC/CG,EAAS,MAAM,CACX,QAAS,qCACT,SAAU,YACV,gBAAiB,SAC7B,CAAS,GAGL,SAASQ,EAAeC,EAAM,CAC1B,OAAOA,EAAK,SAAU,EAAC,SAAW,EAAI,IAAIA,CAAI,GAAKA,CACtD,CAED,MAAMC,EAAU,YAAY,IAAM,CAC9B,GAAId,EAAmB,KAAK,IAAG,EAAK,IAChC,cAAcc,CAAO,EACrBb,EAAS,YAAY,gBAAgB,UAAU,MAC5C,CACH,MAAMc,EAAiBT,EAAUN,EAAmB,KAAK,IAAK,CAAA,EAE9DC,EAAS,WAAW,YAAcW,EAAeG,EAAe,IAAI,EACpEd,EAAS,YAAY,YAAcW,EAAeG,EAAe,KAAK,EACtEd,EAAS,cAAc,YAAcW,EAAeG,EAAe,OAAO,EAC1Ed,EAAS,cAAc,YAAcW,EAAeG,EAAe,OAAO,CAC7E,CACJ,EAAE,GAAI,CACX,CAAC"}